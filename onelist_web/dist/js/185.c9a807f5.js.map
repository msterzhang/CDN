{"version":3,"file":"js/185.c9a807f5.js","mappings":"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","sources":["webpack://onelist-web/./src/views/setting/SettingIndex.vue","webpack://onelist-web/./src/views/setting/SettingIndex.vue?17ae"],"sourcesContent":["<template>\r\n    <div v-if=\"load\" class=\"load\"></div>\r\n    <div v-else class=\"content setting-content\">\r\n        <div class=\"setting-header\">\r\n            <div class=\"setting-title\">\r\n                系统设置\r\n            </div>\r\n        </div>\r\n        <div class=\"setting-content-form\">\r\n            <n-form :model=\"config\" label-placement=\"top\" label-align=\"left\" :label-width=\"140\" :style=\"{\r\n                maxWidth: '640px'\r\n            }\">\r\n                <n-form-item label=\"影视库名字\" path=\"inputValue\">\r\n                    <n-input v-model:value=\"config.title\" size=\"large\" placeholder=\"\" clearable />\r\n                </n-form-item>\r\n                <n-form-item label=\"影视库图标\" path=\"inputValue\">\r\n                    <n-input v-model:value=\"config.faviconico_url\" size=\"large\" placeholder=\"\" clearable />\r\n                </n-form-item>\r\n                <n-form-item label=\"是否下载刮削图片到本地，填'是',或者'否'\" path=\"inputValue\">\r\n                    <n-input v-model:value=\"config.download_image\" size=\"large\" placeholder=\"\" clearable />\r\n                </n-form-item>\r\n                <n-form-item label=\"图片来源,留空则表示使用本地缓存图片,否则使用https://image.tmdb.org提供\" path=\"inputValue\">\r\n                    <n-input v-model:value=\"config.img_url\" size=\"large\" placeholder=\"\" clearable />\r\n                </n-form-item>\r\n                <n-form-item label=\"允许刮削alist中的视频文件类型\" path=\"inputValue\">\r\n                    <n-input v-model:value=\"config.video_types\" size=\"large\" placeholder=\"\" clearable />\r\n                </n-form-item>\r\n                <n-form-item label=\"TheMovieDb api密匙\" path=\"inputValue\">\r\n                    <n-input v-model:value=\"config.key_db\" size=\"large\" placeholder=\"\" clearable />\r\n                </n-form-item>\r\n                <n-button size=\"large\" class=\"btn-save\" @click=\"Save()\" type=\"info\">\r\n                    保存\r\n                </n-button>\r\n            </n-form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { getCurrentInstance, onMounted, ref } from \"vue\";\r\nexport default {\r\n    name: \"SettingIndex\",\r\n    setup() {\r\n        const config = ref({\r\n            \"title\": null,\r\n            \"download_image\": null,\r\n            \"img_url\": null,\r\n            \"key_db\": null,\r\n            \"faviconico_url\": null,\r\n            \"video_types\": null\r\n        })\r\n        const { proxy } = getCurrentInstance();\r\n        const load = ref(true);\r\n\r\n        function getConfig() {\r\n            proxy.axios.post(proxy.COMMON.apiUrl + `/v1/api/config/data`, {}, {\r\n                headers: {\r\n                    'content-type': 'application/json',\r\n                    'Authorization': proxy.$cookies.get(\"Authorization\")\r\n                }\r\n            }).then(res => {\r\n                if (res.data.code == 200) {\r\n                    config.value = res.data.data;\r\n                    load.value = false;\r\n                } else {\r\n                    proxy.COMMON.ShowMsg(res.data.msg)\r\n                }\r\n            }).catch((error) => {\r\n               proxy.COMMON.ShowMsg(error);\r\n                load.value = false;\r\n            });\r\n        }\r\n\r\n        function saveConfig() {\r\n            proxy.axios.post(proxy.COMMON.apiUrl + `/v1/api/config/save`, config.value, {\r\n                headers: {\r\n                    'content-type': 'application/json',\r\n                    'Authorization': proxy.$cookies.get(\"Authorization\")\r\n                }\r\n            }).then(res => {\r\n                if (res.data.code == 200) {\r\n                    config.value = res.data.data;\r\n                    localStorage.setItem(\"title\", config.value.title);\r\n                    localStorage.setItem(\"img_url\", config.value.img_url);\r\n                    location.reload();\r\n                } else {\r\n                    proxy.COMMON.ShowMsg(res.data.msg)\r\n                }\r\n            }).catch((error) => {\r\n               proxy.COMMON.ShowMsg(error);\r\n                load.value = false;\r\n            });\r\n        }\r\n        onMounted(() => {\r\n            getConfig();\r\n        });\r\n        const saveF = async () => {\r\n            saveConfig();\r\n        };\r\n\r\n        return {\r\n            config,\r\n            load,\r\n            saveF\r\n        }\r\n    },\r\n    methods: {\r\n        Save() {\r\n            this.saveF();\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.setting-header {\r\n    margin-bottom: 20px;\r\n    margin-top: 20px;\r\n}\r\n\r\n.setting-title {\r\n    font-size: 1.4em;\r\n}\r\n\r\n.btn-save {\r\n    width: 100%;\r\n}\r\n</style>","import { render } from \"./SettingIndex.vue?vue&type=template&id=69468e51&scoped=true\"\nimport script from \"./SettingIndex.vue?vue&type=script&lang=js\"\nexport * from \"./SettingIndex.vue?vue&type=script&lang=js\"\n\nimport \"./SettingIndex.vue?vue&type=style&index=0&id=69468e51&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\root\\\\codes\\\\vue\\\\onelist-web\\\\node_modules\\\\.pnpm\\\\vue-loader@17.1.1_@vue+compiler-sfc@3.0.0_vue@3.2.23_webpack@5.82.1\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-69468e51\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","$setup","load","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_n_form","model","config","style","_component_n_form_item","label","path","_component_n_input","value","title","$event","size","placeholder","clearable","faviconico_url","download_image","img_url","video_types","key_db","_component_n_button","onClick","_cache","$options","Save","type","name","setup","ref","proxy","getCurrentInstance","getConfig","axios","post","COMMON","apiUrl","headers","$cookies","get","then","res","data","code","ShowMsg","msg","catch","error","saveConfig","localStorage","setItem","location","reload","onMounted","saveF","async","methods","this","__exports__","render"],"sourceRoot":""}