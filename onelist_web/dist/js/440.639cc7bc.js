"use strict"; (self["webpackChunkonelist_web"] = self["webpackChunkonelist_web"] || []).push([[440], { 8440: function (a, e, t) { t.r(e), t.d(e, { default: function () { return $a } }); var l = t(2206), i = t(8912); const s = a => ((0, l.dD)("data-v-8b83d766"), a = a(), (0, l.Cn)(), a), o = { key: 0, class: "load" }, r = { key: 1, class: "main-content" }, n = { class: "view-backdrop" }, c = { class: "mainColumn" }, d = { class: "view-scroller" }, u = { class: "view-card-image" }, _ = ["src"], h = { class: "view-card-detail detailTextContainer" }, p = { class: "lex-direction-column" }, g = { class: "itemPrimaryNameContainer" }, v = { class: "itemName-primary" }, w = { class: "mediaInfo" }, m = { class: "mediaInfoItem" }, y = s((() => (0, l._)("span", { class: "icon-star" }, [(0, l._)("i", { class: "bx bxs-star" })], -1))), b = { class: "mediaInfoItem" }, f = { class: "mediaInfoItem mediaInfoOfficialRating" }, M = { class: "mediaInfoItem tag-list" }, k = s((() => (0, l._)("span", { class: "button-icon" }, [(0, l._)("i", { class: "bx bxs-caret-right-circle" })], -1))), C = s((() => (0, l._)("span", { class: "button-text" }, " 播放 ", -1))), O = [k, C], x = s((() => (0, l._)("span", { class: "button-icon" }, [(0, l._)("i", { class: "bx bx-check-circle" })], -1))), N = s((() => (0, l._)("span", { class: "button-text" }, " 已播放 ", -1))), z = [x, N], U = s((() => (0, l._)("span", { class: "button-icon" }, [(0, l._)("i", { class: "bx bxs-heart" })], -1))), I = [U], H = s((() => (0, l._)("span", { class: "button-icon" }, [(0, l._)("i", { class: "bx bxs-star" })], -1))), B = [H], R = { class: "overview-text" }, W = { class: "showContainer" }, $ = s((() => (0, l._)("div", { class: "show-header" }, [(0, l._)("div", { class: "show-title" }, [(0, l._)("h3", null, "剧集信息")])], -1))), q = { class: "episode-card-list" }, P = ["onClick"], S = ["src"], A = { class: "episode-content" }, D = { class: "episode-name" }, j = { class: "episode-star" }, F = s((() => (0, l._)("span", { class: "icon-star" }, [(0, l._)("i", { class: "bx bxs-star" })], -1))), E = { class: "episode-overview" }, K = { class: "episode-buttons" }, Y = ["onClick"], T = s((() => (0, l._)("span", { class: "button-icon" }, [(0, l._)("i", { class: "bx bxs-right-arrow" })], -1))), V = [T], Z = (0, l.Uk)(" 播放 "), G = ["onClick"], J = s((() => (0, l._)("span", { class: "button-icon" }, [(0, l._)("i", { class: "bx bx-dots-vertical-rounded" })], -1))), L = [J], Q = (0, l.Uk)(" 外部播放器 "), X = s((() => (0, l._)("i", { class: "bx bx-x" }, null, -1))), aa = { class: "play-list" }, ea = { class: "play-item" }, ta = ["href"], la = s((() => (0, l._)("img", { class: "play-icon", src: "https://cdn.jsdelivr.net/gh/msterzhang/cdn@v1.0.1/onelist_web/dist/images/iina.webp", alt: "" }, null, -1))), ia = (0, l.Uk)(" IINA "), sa = { class: "play-item" }, oa = ["href"], ra = s((() => (0, l._)("img", { class: "play-icon", src: "https://cdn.jsdelivr.net/gh/msterzhang/cdn@v1.0.1/onelist_web/dist/images/potplayer.webp", alt: "" }, null, -1))), na = (0, l.Uk)(" Potplayer "), ca = { class: "play-item" }, da = ["href"], ua = s((() => (0, l._)("img", { class: "play-icon", src: "https://cdn.jsdelivr.net/gh/msterzhang/cdn@v1.0.1/onelist_web/dist/images/vlc.webp", alt: "" }, null, -1))), _a = (0, l.Uk)(" vcl "), ha = { class: "play-item" }, pa = ["href"], ga = s((() => (0, l._)("img", { class: "play-icon", src: "https://cdn.jsdelivr.net/gh/msterzhang/cdn@v1.0.1/onelist_web/dist/images/nplayer.webp", alt: "" }, null, -1))), va = (0, l.Uk)(" nplayer "), wa = { class: "play-item" }, ma = ["href"], ya = s((() => (0, l._)("img", { class: "play-icon", src: "https://cdn.jsdelivr.net/gh/msterzhang/cdn@v1.0.1/onelist_web/dist/images/infuse.webp", alt: "" }, null, -1))), ba = (0, l.Uk)(" infuse "), fa = { class: "play-item" }, Ma = ["href"], ka = s((() => (0, l._)("img", { class: "play-icon", src: "https://cdn.jsdelivr.net/gh/msterzhang/cdn@v1.0.1/onelist_web/dist/images/mxplayer.webp", alt: "" }, null, -1))), Ca = (0, l.Uk)(" Mxplayer "), Oa = { class: "play-item" }, xa = ["href"], Na = s((() => (0, l._)("img", { class: "play-icon", src:"https://cdn.jsdelivr.net/gh/msterzhang/cdn@v1.0.1/onelist_web/dist/images/mxplayer-pro.webp",alt:""},null,-1))),za=(0,l.Uk)(" Mxplayer-Pro ");function Ua(a,e,t,s,k,C){const x=(0,l.up)("n-space"),N=(0,l.up)("n-tooltip"),U=(0,l.up)("n-button"),H=(0,l.up)("n-card"),T=(0,l.up)("n-modal");return s.loading?((0,l.wg)(),(0,l.iD)("div",o)):((0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("div",{class:"backdropContainer",style:(0,i.j5)({backgroundImage:"url("+s.backImg+")"})},null,4),(0,l._)("div",n,[(0,l._)("div",c,[(0,l._)("div",d,[(0,l._)("div",u,[(0,l._)("img",{src:a.COMMON.imgUrl+"/t/p/w220_and_h330_face/"+s.data.poster_path,alt:""},null,8,_)]),(0,l._)("div",h,[(0,l._)("div",p,[(0,l._)("div",g,[(0,l._)("h1",v,(0,i.zw)(s.data.name),1),(0,l._)("h2",null,(0,i.zw)(s.season.name),1)]),(0,l._)("div",w,[(0,l._)("div",m,[y,(0,l.Uk)((0,i.zw)(isNaN(Math.floor(100*s.data.vote_average)/100)?"":Math.floor(100*s.data.vote_average)/100),1)]),(0,l._)("div",b,(0,i.zw)(s.data.release_date),1),(0,l._)("div",f,(0,i.zw)(s.data.OfficialRating?s.data.OfficialRating:"-"),1),(0,l._)("div",M,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.data.genres,((a,e)=>((0,l.wg)(),(0,l.iD)("div",{class:"tag-item",key:e},(0,i.zw)(a.name),1)))),128))])]),(0,l.Wm)(x,{size:"large",class:"detailButtons"},{default:(0,l.w5)((()=>[(0,l._)("button",{onClick:e[0]||(e[0]=a=>C.Play()),class:"detailButton outlineButton"},O),(0,l._)("button",{onClick:e[1]||(e[1]=a=>C.ReNewPlayed()),class:(0,i.C_)([s.data.played?"active":"","detailButton","outlineButton"])},z,2),(0,l._)("button",{onClick:e[2]||(e[2]=a=>C.ReNewHeart()),class:(0,i.C_)([s.data.heart?"active":"","detailButton","circleButton"])},I,2),(0,l._)("button",{onClick:e[3]||(e[3]=a=>C.ReNewStar()),class:(0,i.C_)([s.data.star?"active":"","detailButton","circleButton"])},B,2)])),_:1}),(0,l._)("div",R,(0,i.zw)(s.data.overview),1)])])]),(0,l._)("div",W,[$,(0,l._)("div",q,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.season.episodes,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"episode-card-item",key:t},[(0,l._)("div",{onClick:l=>a.ItemPlayer(e,t),class:"episode-img"},[(0,l._)("img",{loading:"lazy",src:a.COMMON.imgUrl+"/t/p/w710_and_h400_multi_faces"+e.still_path,alt:""},null,8,S)],8,P),(0,l._)("div",A,[(0,l._)("div",D,(0,i.zw)(t+1)+". "+(0,i.zw)(e.name),1),(0,l._)("div",j,[F,(0,l.Uk)((0,i.zw)(isNaN(Math.floor(100*e.vote_averag)/100)?"":Math.floor(100*e.vote_averag)/100),1)]),(0,l._)("div",E,(0,i.zw)(e.overview),1)]),(0,l._)("div",K,[(0,l.Wm)(N,{trigger:"hover"},{trigger:(0,l.w5)((()=>[(0,l._)("button",{onClick:a=>C.PlayEpisod(t+1),class:(0,i.C_)(["detailButton","circleButton"])},V,8,Y)])),default:(0,l.w5)((()=>[Z])),_:2},1024),(0,l.Wm)(N,{trigger:"hover"},{trigger:(0,l.w5)((()=>[(0,l._)("button",{onClick:a=>C.OutsidePlay(e.url),class:"detailButton circleButton"},L,8,G)])),default:(0,l.w5)((()=>[Q])),_:2},1024)])])))),128))])])])]),(0,l.Wm)(T,{"transform-origin":"center",show:s.showModal,"onUpdate:show":e[5]||(e[5]=a=>s.showModal=a)},{default:(0,l.w5)((()=>[(0,l.Wm)(H,{style:{width:"600px"},title:"外部播放器",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{"header-extra":(0,l.w5)((()=>[(0,l.Wm)(U,{onClick:e[4]||(e[4]=a=>s.showModal=!s.showModal),strong:"",secondary:"",circle:""},{default:(0,l.w5)((()=>[X])),_:1})])),default:(0,l.w5)((()=>[(0,l._)("ul",aa,[(0,l._)("li",ea,[(0,l._)("a",{href:"iina://weblink/?url="+s.url,target:"_blank"},[(0,l.Wm)(N,{trigger:"hover"},{trigger:(0,l.w5)((()=>[la])),default:(0,l.w5)((()=>[ia])),_:1})],8,ta)]),(0,l._)("li",sa,[(0,l._)("a",{href:"potplayer://"+s.url,target:"_blank"},[(0,l.Wm)(N,{trigger:"hover"},{trigger:(0,l.w5)((()=>[ra])),default:(0,l.w5)((()=>[na])),_:1})],8,oa)]),(0,l._)("li",ca,[(0,l._)("a",{href:"vlc://"+s.url,target:"_blank"},[(0,l.Wm)(N,{trigger:"hover"},{trigger:(0,l.w5)((()=>[ua])),default:(0,l.w5)((()=>[_a])),_:1})],8,da)]),(0,l._)("li",ha,[(0,l._)("a",{href:"nplayer-"+s.url,target:"_blank"},[(0,l.Wm)(N,{trigger:"hover"},{trigger:(0,l.w5)((()=>[ga])),default:(0,l.w5)((()=>[va])),_:1})],8,pa)]),(0,l._)("li",wa,[(0,l._)("a",{href:"infuse://x-callback-url/play?url="+s.url,target:"_blank"},[(0,l.Wm)(N,{trigger:"hover"},{trigger:(0,l.w5)((()=>[ya])),default:(0,l.w5)((()=>[ba])),_:1})],8,ma)]),(0,l._)("li",fa,[(0,l._)("a",{href:"intent:"+s.url,target:"_blank"},[(0,l.Wm)(N,{trigger:"hover"},{trigger:(0,l.w5)((()=>[ka])),default:(0,l.w5)((()=>[Ca])),_:1})],8,Ma)]),(0,l._)("li",Oa,[(0,l._)("a",{href:"intent:"+s.url,target:"_blank"},[(0,l.Wm)(N,{trigger:"hover"},{trigger:(0,l.w5)((()=>[Na])),default:(0,l.w5)((()=>[za])),_:1})],8,xa)])])])),_:1})])),_:1},8,["show"])]))}var Ia=t(3421),Ha=t(3579),Ba={name:"VideoSeason",setup(){const a=(0,Ia.iH)(!0),e=(0,Ia.iH)(!1),t=(0,Ia.iH)(!1),i=(0,Ia.iH)(null),s=(0,Ia.iH)(null),o=(0,Ia.iH)(null),r=(0,Ia.iH)(null),n=(0,Ia.iH)(null),c=(0,Ia.iH)(null),{proxy:d}=(0,l.FN)(),u=(0,Ia.iH)(null),_=(0,Ia.iH)(null);i.value=d.$route.query.tv_id,u.value=d.$route.query.id,_.value=d.$route.query.gallery_type;const h=(0,Ia.iH)({data_type:"",data_id:""});function p(){let e=d.COMMON.apiUrl+`/v1/api/theseason/id?id=${u.value}`;d.axios.post(e,{},{headers:{"content-type":"application/json",Authorization:d.$cookies.get("Authorization")}}).then((e=>{200==e.data.code?(n.value=e.data.data,a.value=!1):d.COMMON.ShowMsg(e.data.msg)})).catch((a=>{d.COMMON.ShowMsg(a)}))}function g(){let a=`${d.COMMON.apiUrl}/v1/api/gallery/host?id=${r.value.gallery_uid}`;d.axios.post(a,{},{headers:{"content-type":"application/json",Authorization:d.$cookies.get("Authorization")}}).then((a=>{200==a.data.code?(a.data.data.length>0?s.value=a.data.data:s.value=window.location.origin+"/file/",p()):d.COMMON.ShowMsg(a.data.msg)})).catch((a=>{d.COMMON.ShowMsg(a)}))}function v(){let a=d.COMMON.apiUrl+`/v1/api/thetv/id?id=${i.value}`;d.axios.post(a,{},{headers:{"content-type":"application/json",Authorization:d.$cookies.get("Authorization")}}).then((a=>{200==a.data.code?(r.value=a.data.data,o.value=d.COMMON.imgUrl+"/t/p/w1920_and_h1080_bestv2"+r.value.backdrop_path,h.value.data_type=_.value,h.value.data_id=r.value.id,g()):d.COMMON.ShowMsg(a.data.msg)})).catch((a=>{d.COMMON.ShowMsg(a)}))}(0,Ha.ao)(((a,e)=>{u.value=a.query.id,i.value=a.query.tv_id,_.value=a.query.gallery_type,v()}));const w=()=>{v()};return(0,l.bv)((()=>{v()})),{tv_id:i,showModal:e,alist_host:s,url:t,data:r,seasonId:u,gallery_type:_,form:h,reF:w,loading:a,error:c,season:n,backImg:o}},methods:{Play(){this.$router.push({path:"/player",query:{id:this.tv_id,gallery_type:this.gallery_type,season_id:this.seasonId}})},OutsidePlay(a){this.url=this.alist_host+a,this.showModal=!this.showModal},PlayEpisod(a){this.$router.push({path:"/player",query:{id:this.tv_id,gallery_type:this.gallery_type,season_id:this.seasonId,speed:a}})},Request(a,e){this.axios.post(a,e,{headers:{"content-type":"application/json",Authorization:this.$cookies.get("Authorization")}}).then((a=>{200==a.data.code?(this.reF(),this.COMMON.ShowMsg(a.data.msg)):this.COMMON.ShowMsg(a.data.msg)})).catch((a=>{this.COMMON.ShowMsg(a)}))},ReNewPlayed(){this.Request(this.COMMON.apiUrl+"/v1/api/played/renew",this.form)},ReNewStar(){this.Request(this.COMMON.apiUrl+"/v1/api/star/renew",this.form)},ReNewHeart(){this.Request(this.COMMON.apiUrl+"/v1/api/heart/renew",this.form)}}},Ra=t(475);const Wa=(0,Ra.Z)(Ba,[["render",Ua],["__scopeId","data-v-8b83d766"]]);var $a=Wa}}]);
//# sourceMappingURL=440.639cc7bc.js.map