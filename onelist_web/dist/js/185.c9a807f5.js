"use strict";(self["webpackChunkonelist_web"]=self["webpackChunkonelist_web"]||[]).push([[185],{9185:function(e,a,l){l.r(a),l.d(a,{default:function(){return f}});var t=l(2206);const n=e=>((0,t.dD)("data-v-69468e51"),e=e(),(0,t.Cn)(),e),o={key:0,class:"load"},i={key:1,class:"content setting-content"},u=n((()=>(0,t._)("div",{class:"setting-header"},[(0,t._)("div",{class:"setting-title"}," 系统设置 ")],-1))),c={class:"setting-content-form"},d=(0,t.Uk)(" 保存 ");function s(e,a,l,n,s,r){const p=(0,t.up)("n-input"),v=(0,t.up)("n-form-item"),g=(0,t.up)("n-button"),f=(0,t.up)("n-form");return n.load?((0,t.wg)(),(0,t.iD)("div",o)):((0,t.wg)(),(0,t.iD)("div",i,[u,(0,t._)("div",c,[(0,t.Wm)(f,{model:n.config,"label-placement":"top","label-align":"left","label-width":140,style:{maxWidth:"640px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(v,{label:"影视库名字",path:"inputValue"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{value:n.config.title,"onUpdate:value":a[0]||(a[0]=e=>n.config.title=e),size:"large",placeholder:"",clearable:""},null,8,["value"])])),_:1}),(0,t.Wm)(v,{label:"影视库图标",path:"inputValue"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{value:n.config.faviconico_url,"onUpdate:value":a[1]||(a[1]=e=>n.config.faviconico_url=e),size:"large",placeholder:"",clearable:""},null,8,["value"])])),_:1}),(0,t.Wm)(v,{label:"是否下载刮削图片到本地，填'是',或者'否'",path:"inputValue"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{value:n.config.download_image,"onUpdate:value":a[2]||(a[2]=e=>n.config.download_image=e),size:"large",placeholder:"",clearable:""},null,8,["value"])])),_:1}),(0,t.Wm)(v,{label:"图片来源,留空则表示使用本地缓存图片,否则使用https://image.tmdb.org提供",path:"inputValue"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{value:n.config.img_url,"onUpdate:value":a[3]||(a[3]=e=>n.config.img_url=e),size:"large",placeholder:"",clearable:""},null,8,["value"])])),_:1}),(0,t.Wm)(v,{label:"允许刮削alist中的视频文件类型",path:"inputValue"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{value:n.config.video_types,"onUpdate:value":a[4]||(a[4]=e=>n.config.video_types=e),size:"large",placeholder:"",clearable:""},null,8,["value"])])),_:1}),(0,t.Wm)(v,{label:"TheMovieDb api密匙",path:"inputValue"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{value:n.config.key_db,"onUpdate:value":a[5]||(a[5]=e=>n.config.key_db=e),size:"large",placeholder:"",clearable:""},null,8,["value"])])),_:1}),(0,t.Wm)(g,{size:"large",class:"btn-save",onClick:a[6]||(a[6]=e=>r.Save()),type:"info"},{default:(0,t.w5)((()=>[d])),_:1})])),_:1},8,["model"])])]))}var r=l(3421),p={name:"SettingIndex",setup(){const e=(0,r.iH)({title:null,download_image:null,img_url:null,key_db:null,faviconico_url:null,video_types:null}),{proxy:a}=(0,t.FN)(),l=(0,r.iH)(!0);function n(){a.axios.post(a.COMMON.apiUrl+"/v1/api/config/data",{},{headers:{"content-type":"application/json",Authorization:a.$cookies.get("Authorization")}}).then((t=>{200==t.data.code?(e.value=t.data.data,l.value=!1):a.COMMON.ShowMsg(t.data.msg)})).catch((e=>{a.COMMON.ShowMsg(e),l.value=!1}))}function o(){a.axios.post(a.COMMON.apiUrl+"/v1/api/config/save",e.value,{headers:{"content-type":"application/json",Authorization:a.$cookies.get("Authorization")}}).then((l=>{200==l.data.code?(e.value=l.data.data,localStorage.setItem("title",e.value.title),localStorage.setItem("img_url",e.value.img_url),location.reload()):a.COMMON.ShowMsg(l.data.msg)})).catch((e=>{a.COMMON.ShowMsg(e),l.value=!1}))}(0,t.bv)((()=>{n()}));const i=async()=>{o()};return{config:e,load:l,saveF:i}},methods:{Save(){this.saveF()}}},v=l(475);const g=(0,v.Z)(p,[["render",s],["__scopeId","data-v-69468e51"]]);var f=g}}]);
//# sourceMappingURL=185.c9a807f5.js.map