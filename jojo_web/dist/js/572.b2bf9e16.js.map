{"version":3,"file":"js/572.b2bf9e16.js","mappings":"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","sources":["webpack://jojo-web/./src/components/pages/TvPage.vue","webpack://jojo-web/./src/components/pages/TvPage.vue?1d72"],"sourcesContent":["<template>\r\n  <div v-if=\"loading\" class=\"\">\r\n    <LoadSkeletonType></LoadSkeletonType>\r\n  </div>\r\n  <div v-else class=\"content\">\r\n    <div class=\"h-36 tv-type-list grid grid-cols-3 md:grid-cols-6 gap-3\">\r\n      <div\r\n        v-for=\"(item, index) in tv_types\"\r\n        :key=\"index\"\r\n        v-bind:style=\"{ backgroundImage: 'url(' + item.back_image + ')' }\"\r\n        @click=\"typeRef(item.title)\"\r\n        class=\"h-full flex items-center justify-center w-full rounded-lg py-4 px-4 mx-auto text-center bg-cover bg-center bg-no-repeat dark:bg-gray-700 bg-gray-700 bg-blend-multiply\"\r\n      >\r\n        <h1\r\n          :class=\"[item.title === tv_type ? 'active' : '']\"\r\n          class=\"text-xl relative font-extrabold tracking-tight leading-none md:text-4xl lg:text-5xl dark:text-white text-white\"\r\n        >\r\n          {{ item.title }}\r\n        </h1>\r\n      </div>\r\n    </div>\r\n    <div class=\"tv-content-list\">\r\n      <div class=\"content-video-title flex items-center justify-between py-6\">\r\n        <div class=\"content-video-title-lift flex items-center justify-between\">\r\n          <div class=\"title-icon\">\r\n            <svg\r\n              class=\"w-6 h-6 text-gray-800 dark:text-white\"\r\n              aria-hidden=\"true\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              fill=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path\r\n                fill-rule=\"evenodd\"\r\n                d=\"M5 10.2c.6 0 1 .4 1 1v.2l6 3.5 6-3.5v-.2a1 1 0 1 1 2 0v.8c0 .4-.2.7-.5.9l-7 4a1 1 0 0 1-1 0l-7-4A1 1 0 0 1 4 12v-.8c0-.6.5-1 1-1Zm0 5c.6 0 1 .4 1 1v.2l6 3.4 6-3.4V16a1 1 0 1 1 2 0v.9c0 .3-.2.6-.5.8l-7 4a1 1 0 0 1-1 0l-7-4A1 1 0 0 1 4 17v-1c0-.5.4-1 1-1Z\"\r\n                clip-rule=\"evenodd\"\r\n              />\r\n              <path\r\n                d=\"M12.5 2.1a1 1 0 0 0-1 0l-7 4a1 1 0 0 0 0 1.8l7 4c.3.2.7.2 1 0l7-4a1 1 0 0 0 0-1.7l-7-4Z\"\r\n              />\r\n            </svg>\r\n          </div>\r\n          <div class=\"title-text font-bold text-gray-800 dark:text-white\">\r\n            资源\r\n          </div>\r\n        </div>\r\n        <router-link\r\n          :to=\"{ path: '/list/' + tv_type }\"\r\n          class=\"content-video-title-rigth font-bold text-gray-800 dark:text-white\"\r\n        >\r\n          更多\r\n        </router-link>\r\n      </div>\r\n      <div class=\"content-video-list grid grid-cols-3 md:grid-cols-8 gap-3\">\r\n        <router-link\r\n          :to=\"'/watch/' + line.ID\"\r\n          v-for=\"(line, number) in data\"\r\n          :key=\"number\"\r\n          class=\"video-item-card h-60 brightness-50 w-full rounded-sm object-cover object-center\"\r\n        >\r\n          <img\r\n            loading=\"lazy\"\r\n            class=\"video-item-card-image rounded-sm brightness-50\"\r\n            :src=\"line.image\"\r\n            alt=\"\"\r\n          />\r\n          <div\r\n            class=\"video-item-card-title mt-2 text-sm font-bold text-gray-800 dark:text-white\"\r\n          >\r\n            {{ line.title }}\r\n          </div>\r\n          <div\r\n            class=\"video-item-card-heard px-1 py-1 w-full absolute top-0 left-0\"\r\n          >\r\n            <div\r\n              class=\"item-card-heard-content flex items-center justify-between\"\r\n            >\r\n              <div class=\"item-card-heard-speed text-sm text-gray-200\">\r\n                {{ COMMON.getSpeed(line) }}\r\n              </div>\r\n              <div class=\"item-card-heard-score text-sm text-yellow-300\">\r\n                {{ line.score + \"分\" }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useToast } from \"flowbite-vue\";\r\nimport { ref, onMounted, getCurrentInstance } from \"vue\";\r\nimport LoadSkeletonType from \"../widgets/LoadSkeletonType.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    LoadSkeletonType,\r\n  },\r\n  setup() {\r\n    const loading = ref(true);\r\n    const toast = useToast();\r\n    const tv_type = ref(null);\r\n    const tv_types = ref(null);\r\n    const data = ref(null);\r\n    const error = ref(null);\r\n    const { proxy } = getCurrentInstance();\r\n\r\n    tv_types.value = proxy.COMMON.tv_types;\r\n    tv_type.value = tv_types.value[0].title;\r\n\r\n    function fetchData() {\r\n      let api = `${proxy.COMMON.apiUrl}/v1/api/video/jojo/type/tag?type=${tv_type.value}&page=1&size=24`;\r\n      fetch(api, {\r\n        method: \"post\",\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n          Authorization: localStorage.getItem(\"Authorization\"),\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            const error = new Error(res.statusText);\r\n            error.json = res.json();\r\n            throw error;\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((json) => {\r\n          if (json.code == 200) {\r\n            data.value = json.data;\r\n          } else if (json.code == 402) {\r\n            toast.add({\r\n              type: \"success\",\r\n              time: 3000,\r\n              text: \"刷新token成功!\",\r\n            });\r\n            localStorage.setItem(\"Authorization\", json.data);\r\n          } else if (json.code == 403) {\r\n            toast.add({\r\n              type: \"warning\",\r\n              time: 3000,\r\n              text: \"登录失效,请重新登录!\",\r\n            });\r\n            proxy.COMMON.loginOut();\r\n          } else {\r\n            toast.add({\r\n              type: \"success\",\r\n              time: 3000,\r\n              text: json.msg,\r\n            });\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          error.value = err;\r\n          if (err.json) {\r\n            return err.json.then((json) => {\r\n              error.value.message = json.message;\r\n              toast.add({\r\n                type: \"success\",\r\n                time: 3000,\r\n                text: error.value.message,\r\n              });\r\n            });\r\n          }\r\n        })\r\n        .then(() => {\r\n          loading.value = false;\r\n        });\r\n    }\r\n\r\n    onMounted(() => {\r\n      document.title = \"剧集\";\r\n      fetchData();\r\n    });\r\n\r\n    const typeRef = async (typeData) => {\r\n      tv_type.value = typeData;\r\n      toast.add({\r\n        type: \"success\",\r\n        time: 3000,\r\n        text: \"获取资源中!\",\r\n      });\r\n      fetchData();\r\n    };\r\n    return {\r\n      loading,\r\n      toast,\r\n      tv_type,\r\n      tv_types,\r\n      data,\r\n      typeRef,\r\n    };\r\n  },\r\n  methods: {},\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n</style>\r\n","import { render } from \"./TvPage.vue?vue&type=template&id=6f2e9cc2\"\nimport script from \"./TvPage.vue?vue&type=script&lang=js\"\nexport * from \"./TvPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["key","class","_createStaticVNode","$setup","loading","_createElementBlock","_hoisted_1","_createVNode","_component_LoadSkeletonType","_hoisted_2","_createElementVNode","_hoisted_3","_Fragment","_renderList","tv_types","item","index","style","_normalizeStyle","backgroundImage","back_image","onClick","$event","typeRef","title","_normalizeClass","tv_type","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_component_router_link","to","path","default","_withCtx","_createTextVNode","_","_hoisted_8","data","line","number","_createBlock","ID","src","image","alt","_hoisted_9","_hoisted_10","_toDisplayString","_hoisted_11","_hoisted_12","_hoisted_13","_ctx","COMMON","getSpeed","_hoisted_14","score","components","LoadSkeletonType","setup","ref","toast","useToast","error","proxy","getCurrentInstance","fetchData","api","apiUrl","value","fetch","method","headers","Authorization","localStorage","getItem","then","res","ok","Error","statusText","json","code","add","type","time","text","setItem","loginOut","msg","catch","err","message","onMounted","document","async","typeData","methods","__exports__","render"],"sourceRoot":""}